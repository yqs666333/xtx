(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{822:function(t,s,a){t.exports=a.p+"assets/img/vite-logo.9a49645c.svg"},823:function(t,s,a){t.exports=a.p+"assets/img/bundler.37740380.9affcc87.png"},824:function(t,s,a){t.exports=a.p+"assets/img/esm.3070012d.916a6df6.png"},825:function(t,s,a){t.exports=a.p+"assets/img/image-20220207132431594.c54e049b.png"},826:function(t,s,a){t.exports=a.p+"assets/img/image-20220207132613985.02faa937.png"},827:function(t,s,a){t.exports=a.p+"assets/img/image-20220207132710628.3219bc5d.png"},828:function(t,s,a){t.exports=a.p+"assets/img/image-20220207132329123.c4d45777.png"},829:function(t,s,a){t.exports=a.p+"assets/img/image-20220207133606278.8418a772.png"},887:function(t,s,a){"use strict";a.r(s);var e=a(115),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"vite-基础"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vite-基础"}},[t._v("#")]),t._v(" Vite 基础")]),t._v(" "),e("p",[e("img",{attrs:{src:a(822),alt:"img"}})]),t._v(" "),e("h2",{attrs:{id:"概述"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[t._v("#")]),t._v(" 概述")]),t._v(" "),e("h3",{attrs:{id:"官方文档"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#官方文档"}},[t._v("#")]),t._v(" 官方文档")]),t._v(" "),e("blockquote",[e("p",[t._v("Vite 官方文档："),e("a",{attrs:{href:"https://cn.vitejs.dev/",target:"_blank",rel:"noopener noreferrer"}},[t._v("⚓https://cn.vitejs.dev/"),e("OutboundLink")],1)])]),t._v(" "),e("h3",{attrs:{id:"简介"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[t._v("#")]),t._v(" 简介")]),t._v(" "),e("ul",[e("li",[t._v('Vite（法语意为 "快速的"，发音 '),e("code",[t._v("/vit/")]),t._v('，发音同 "veet")是一种新型前端构建工具。')])]),t._v(" "),e("h2",{attrs:{id:"为什么选-vite"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#为什么选-vite"}},[t._v("#")]),t._v(" 为什么选 Vite ？")]),t._v(" "),e("h3",{attrs:{id:"传统方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#传统方式"}},[t._v("#")]),t._v(" 传统方式")]),t._v(" "),e("ul",[e("li",[t._v("基于打包器的方式启动，必须优先抓取并构建你的整个应用，然后才能提供服务。")]),t._v(" "),e("li",[t._v("更新速度会随着应用体积增长而直线下降。")])]),t._v(" "),e("p",[e("img",{attrs:{src:a(823),alt:"基于打包器的开发服务器"}})]),t._v(" "),e("h3",{attrs:{id:"vite-方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vite-方式"}},[t._v("#")]),t._v(" Vite 方式")]),t._v(" "),e("ul",[e("li",[t._v("Vite 以 "),e("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Modules",target:"_blank",rel:"noopener noreferrer"}},[t._v("原生 ESM"),e("OutboundLink")],1),t._v(" 方式提供源码。这实际上是让浏览器接管了打包程序的部分工作。")]),t._v(" "),e("li",[t._v("Vite 只需要在浏览器请求源码时进行转换并按需提供源码。")]),t._v(" "),e("li",[t._v("根据情景动态导入代码，即只在当前屏幕上实际使用时才会被处理。")])]),t._v(" "),e("p",[e("img",{attrs:{src:a(824),alt:"基于 ESM 的开发服务器"}})]),t._v(" "),e("p",[t._v("问题小结:")]),t._v(" "),e("ul",[e("li",[t._v("Vite 是否需要先打包才能提供服务？")])]),t._v(" "),e("p",[t._v("温馨提示：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("Vite")]),t._v(" 的入口文件是 "),e("code",[t._v("index.html")]),t._v("，先启动服务，通过 "),e("code",[t._v("http")]),t._v(" 请求加载源码。")]),t._v(" "),e("li",[e("code",[t._v("WebPack")]),t._v(" 的入口文件是 "),e("code",[t._v("js")]),t._v(" 文件，根据入口 "),e("code",[t._v("js")]),t._v(" 文件依赖打包后，再启动服务。")])]),t._v(" "),e("h3",{attrs:{id:"vite-优势"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vite-优势"}},[t._v("#")]),t._v(" Vite 优势")]),t._v(" "),e("ul",[e("li",[t._v("💡 极速的服务启动，使用原生 "),e("code",[t._v("ESM")]),t._v(" 文件，无需打包")]),t._v(" "),e("li",[t._v("⚡️ 轻量快速的热重载，始终极快的模块热重载（"),e("code",[t._v("HMR")]),t._v("）")]),t._v(" "),e("li",[t._v("🛠️丰富的功能，对 "),e("code",[t._v("TypeScript")]),t._v("、"),e("code",[t._v("JSX")]),t._v("、"),e("code",[t._v("CSS")]),t._v(" 等支持开箱即用")]),t._v(" "),e("li",[t._v("📦等等")])]),t._v(" "),e("h2",{attrs:{id:"搭建第一个-vite-项目"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#搭建第一个-vite-项目"}},[t._v("#")]),t._v(" 搭建第一个 Vite 项目")]),t._v(" "),e("blockquote",[e("p",[e("strong",[t._v("兼容性注意")])]),t._v(" "),e("p",[t._v("Vite 需要 "),e("a",{attrs:{href:"https://nodejs.org/zh-cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node.js"),e("OutboundLink")],1),t._v(" 版本 >= 12.0.0，建议安装 14.x 版本 NodeJS。")])]),t._v(" "),e("h3",{attrs:{id:"vite项目构建命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vite项目构建命令"}},[t._v("#")]),t._v(" Vite项目构建命令")]),t._v(" "),e("p",[t._v("使用 NPM:")]),t._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" create vite\n")])])]),e("p",[t._v("使用 Yarn:")]),t._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" create vite\n")])])]),e("p",[t._v("然后按照提示操作即可！")]),t._v(" "),e("p",[e("img",{attrs:{src:a(825),alt:"image-20220207132431594"}})]),t._v(" "),e("p",[e("img",{attrs:{src:a(826),alt:"image-20220207132613985"}})]),t._v(" "),e("p",[e("img",{attrs:{src:a(827),alt:"image-20220207132710628"}})]),t._v(" "),e("p",[e("img",{attrs:{src:a(828),alt:"image-20220207132329123"}})]),t._v(" "),e("h3",{attrs:{id:"启动项目"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动项目"}},[t._v("#")]),t._v(" 启动项目")]),t._v(" "),e("p",[t._v("安装依赖")]),t._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])])]),e("p",[t._v("启动项目")]),t._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run dev\n")])])]),e("p",[e("img",{attrs:{src:a(829),alt:"image-20220207133606278"}})]),t._v(" "),e("p",[t._v("浏览器打开 "),e("a",{attrs:{href:"http://localhost:3000/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:3000/"),e("OutboundLink")],1),t._v("，如上图所示，表示 "),e("code",[t._v("Vue3 + TypeScript + Vite")]),t._v(" 简单的项目骨架搭建完毕。")]),t._v(" "),e("h3",{attrs:{id:"模板命令-自行了解"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#模板命令-自行了解"}},[t._v("#")]),t._v(" 模板命令(自行了解)")]),t._v(" "),e("p",[t._v("还可以通过附加的命令行选项直接指定项目名称和你想要使用的模板。")]),t._v(" "),e("p",[t._v("例如，要构建一个 "),e("code",[t._v("Vite + Vue + Ts")]),t._v(" 项目，运行:")]),t._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# npm 6.x")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" create vite my-vue-ts-app --template vue-ts\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# yarn")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" create vite my-vue-ts-app --template vue-ts\n")])])]),e("h3",{attrs:{id:"其他命令行"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#其他命令行"}},[t._v("#")]),t._v(" 其他命令行")]),t._v(" "),e("p",[t._v("下面是通过脚手架创建的 "),e("code",[t._v("Vite")]),t._v(" 项目中默认的 "),e("code",[t._v("npm scripts")]),t._v("：")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dev"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vite"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 启动开发服务器")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vite build"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 为生产环境构建产物")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"preview"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vite preview"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 本地预览生产构建产物")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h2",{attrs:{id:"vite-项目目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vite-项目目录"}},[t._v("#")]),t._v(" Vite 项目目录")]),t._v(" "),e("h3",{attrs:{id:"vue-ts-目录结构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vue-ts-目录结构"}},[t._v("#")]),t._v(" vue-ts 目录结构")]),t._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("├── .vscode                        // VsCode 配置目录\n├── public/\n└── src/\n    ├── assets/                    // 静态资源目录\n    ├── components/                // 公共组件目录\n    ├── App.vue                    // 全局根组件\n    ├── main.ts                    // Vue 项目入口\n    ├── env.d.ts\n├── index.html                     // Vite 入口文件\n├── tsconfig.json                  // TS 配置文件\n├── vite.config.ts                 // Vite 配置文件\n└── package.json\n")])])]),e("h2",{attrs:{id:"🚀-vite-进阶"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#🚀-vite-进阶"}},[t._v("#")]),t._v(" 🚀 Vite 进阶")]),t._v(" "),e("p",[t._v("🧐 项目阶段再讲")]),t._v(" "),e("h3",{attrs:{id:"项目配置参考"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#项目配置参考"}},[t._v("#")]),t._v(" 项目配置参考")]),t._v(" "),e("ul",[e("li",[t._v("项目阶段讲解")])]),t._v(" "),e("div",{staticClass:"language-ts extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ts"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" defineConfig "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vite'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" vue "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@vitejs/plugin-vue'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果编辑器提示 path 模块找不到，则可以安装一下 @types/node -> npm i @types/node -D")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" resolve "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'path'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// JSX支持：https://cn.vitejs.dev/plugins/#vitejsplugin-vue-jsx")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" vueJsx "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@vitejs/plugin-vue-jsx'")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// https://vitejs.dev/config/")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineConfig")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  plugins"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("vue")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("vueJsx")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  css"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// CSS 预处理器：https://cn.vitejs.dev/config/#css-preprocessoroptions")]),t._v("\n    preprocessorOptions"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      scss"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 配置全局scss变量")]),t._v("\n        additionalData"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token template-string"}},[e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("@import '@/styles/variables.scss';")]),e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  resolve"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 路径别名")]),t._v("\n    alias"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'@'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'src'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置 `@` 指向 `src` 目录")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  base"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置打包路径")]),t._v("\n  server"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    open"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置服务启动时是否自动打开浏览器")]),t._v("\n    port"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("8080")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 按需设置服务启动端口号")]),t._v("\n    cors"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 允许跨域")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);